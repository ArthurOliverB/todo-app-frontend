(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,a){},21:function(e,t,a){e.exports=a(49)},27:function(e,t,a){},28:function(e,t,a){},48:function(e,t,a){e.exports=a.p+"static/media/plus.813c1b09.png"},49:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(19),c=a.n(i),l=(a(27),a(10)),r=a(4),o=a(5),d=a(7),h=a(6),m=a(8),u=(a(28),a(12),a(2)),p=a.n(u),v=a(20),N=a(3),f=(a(18),a(48),"https://cod3r-todo-backend.herokuapp.com/tasks"),k=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(d.a)(this,Object(h.a)(t).call(this))).state={id:"",name:"",note:"",prio:"",editable:""},e.handleNameChange=e.handleNameChange.bind(Object(N.a)(e)),e.handleNoteChange=e.handleNoteChange.bind(Object(N.a)(e)),e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){this.setState({id:this.props.id,name:this.props.name,note:this.props.note,prio:this.props.status})}},{key:"handleNameChange",value:function(e){this.setState({name:e.target.value})}},{key:"handleNoteChange",value:function(e){this.setState({note:e.target.value})}},{key:"renderEditable",value:function(){var e=this;return s.a.createElement("div",{className:"static"},s.a.createElement("div",{className:"card-container static editable"},s.a.createElement("div",{className:"tag event editable",onClick:function(t){return e.changeClass(t,!1)}}),s.a.createElement("div",{className:"card-info"},s.a.createElement("div",{className:"header-wrapper editable"},s.a.createElement("div",{className:"card-header editable"},s.a.createElement("input",{className:"input title",placeholder:"Nova tarefa",value:this.state.name,onChange:this.handleNameChange}))),s.a.createElement("div",{className:"content-wrapper editable"},s.a.createElement("div",{className:"card-content editable"},s.a.createElement("input",{className:"input subtitle",placeholder:"Notas",value:this.state.note,onChange:this.handleNoteChange})))),s.a.createElement("div",{className:"card-actions"},s.a.createElement("button",{className:"done",onClick:function(t){return e.animateButton(t)}}))))}},{key:"animateButton",value:function(e){var t=e.target;t.classList.add("animated","bounceIn"),t.addEventListener("animationend",function e(){t.classList.remove("animated","bounceIn"),t.removeEventListener("animationend",e)}),console.log(this.state.prio),""!==this.state.prio&&void 0!=this.state.prio&&""!==this.state.name&&""!==this.state.note?(this.postNewTask(),this.reset(e)):alert("Preencha todos os campos")}},{key:"reset",value:function(e){document.querySelectorAll("div[class^=tag]")[0].className="tag event editable",this.setState({name:"",note:"",prio:""})}},{key:"postNewTask",value:function(){var e=this;p.a.post(f,{name:this.state.name,note:this.state.note,prio:this.state.prio}).then(function(t){e.props.onPostTask(t.data)})}},{key:"deleteTask",value:function(){var e=this,t=this.state.id;console.log("Card: "+this.state.name),p.a.delete(f+"/".concat(t)).then(function(a){e.props.onDeleteTask(t)})}},{key:"changeClass",value:function(e,t){var a=e.target,n=a.className.split(" ")[1],s="",i="";if("editable"===a.className.split(" ")[2]){switch(n){case"success":s="warning",i="m";break;case"warning":s="failure",i="h";break;case"failure":default:s="success",i="b"}a.className="tag "+s+" editable",this.setState({prio:i,editable:!!t})}}},{key:"renderStatic",value:function(){var e=this,t="tag "+("h"===this.state.prio?"failure":"m"===this.state.prio?"warning":"success")+(this.state.editable?" editable":"");return s.a.createElement("div",{className:"card-container"},s.a.createElement("div",{className:t,onClick:function(t){return e.changeClass(t,!0)}}," "),s.a.createElement("div",{className:"card-info"},s.a.createElement("div",{className:"header-wrapper"},s.a.createElement("div",{className:"card-header"},s.a.createElement("input",{className:"input title",placeholder:"Nova tarefa",value:this.state.name,onChange:this.handleNameChange,readOnly:!0}))),s.a.createElement("div",{className:"content-wrapper"},s.a.createElement("div",{className:"card-content"},s.a.createElement("input",{className:"input subtitle",placeholder:"Notas",value:this.state.note,onChange:this.handleNoteChange,readOnly:!0})))),s.a.createElement("div",{className:"card-actions"},s.a.createElement("button",{className:"done"}),s.a.createElement("button",{className:"edit",onClick:function(t){return e.makeEditable(t)}}),s.a.createElement("button",{className:"delete",onClick:function(t){return e.deleteTask(t)}})))}},{key:"updateTask",value:function(e){var t=this;p.a.put(f+"/".concat(e),{name:this.state.name,note:this.state.note,prio:this.state.prio}).then(function(e){t.setState(Object(v.a)({},e.data))})}},{key:"makeEditable",value:function(e){var t=e.target.parentNode.parentNode,a=t.classList[1],n=t.children[1].children[0].children[0].children[0],s=t.children[1].children[1].children[0].children[0],i=t.children[0];a?(t.className="card-container",n.readOnly=!0,s.readOnly=!0,i.className=i.className.split(" editable")[0],this.updateTask(this.state.id)):(t.className="card-container editable",n.readOnly=!1,s.readOnly=!1,i.className+=" editable")}},{key:"render",value:function(){return!0===this.props.editable?this.renderEditable():this.renderStatic()}}]),t}(s.a.Component),b=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(d.a)(this,Object(h.a)(t).call(this))).handleNewTask=function(t){var a=Object(l.a)(e.state.tasks);a.unshift(t),console.log(a),e.setState({tasks:a})},e.handleDeleteTask=function(t){var a=e.state.tasks.filter(function(e){return e._id!=t});console.log(a),e.setState({tasks:a})},e.state={tasks:[]},e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"fetchTasks",value:function(){return p.a.get(f)}},{key:"componentWillMount",value:function(){var e=this;this.fetchTasks().then(function(t){e.setState({tasks:Object(l.a)(t.data).reverse()})})}},{key:"itemsComponents",value:function(){var e=this,t=this.state.tasks.map(function(t,a){return s.a.createElement("div",{className:"animated bounceInLeft faster",key:t._id},s.a.createElement(k,{id:t._id,status:t.prio,name:t.name,note:t.note,editable:"false",onDeleteTask:e.handleDeleteTask}))});return s.a.createElement("div",null,t)}},{key:"render",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement("div",{className:"todo"},s.a.createElement("div",{className:"header"},s.a.createElement("div",{className:"date"},s.a.createElement("h2",null,"Hoje"))),s.a.createElement(k,{name:"",note:"",editable:!0,onPostTask:this.handleNewTask}),this.itemsComponents()))}}]),t}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(s.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[21,1,2]]]);
//# sourceMappingURL=main.fc2d3cfc.chunk.js.map